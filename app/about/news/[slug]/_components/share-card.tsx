'use client';

import { useState } from 'react';

interface ShareCardProps {
  url?: string;
  title?: string;
}

const ShareCard = ({ url, title }: ShareCardProps) => {
  const [copied, setCopied] = useState(false);

  // Use current URL if not provided
  const shareUrl =
    url || typeof window !== 'undefined' ? window.location.href : '';
  const shareTitle = title || 'Aura - Полезная статья';

  const handleCopyLink = () => {
    navigator.clipboard.writeText(shareUrl);
    setCopied(true);
    setTimeout(() => setCopied(false), 2000);
  };

  return (
    <div className="flex flex-col items-center gap-10 bg-white rounded-[22px] py-10 px-7">
      <div className="text-2xl text-[#666F8D] font-bold">Поделиться</div>

      <div className="flex gap-2">
        <button
          className="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center"
          aria-label="Telegram"
        >
          <svg
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M20.665 3.717L2.935 10.554C1.725 11.04 1.732 11.715 2.713 12.016L7.265 13.436L17.797 6.791C18.295 6.488 18.75 6.651 18.376 6.983L9.843 14.684H9.841L9.843 14.685L9.529 19.377C9.989 19.377 10.192 19.166 10.45 18.917L12.661 16.767L17.26 20.164C18.108 20.631 18.717 20.391 18.928 19.379L21.947 5.151C22.256 3.912 21.474 3.351 20.665 3.717Z"
              fill="#27A6E5"
            />
          </svg>
        </button>

        <button
          className="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center"
          aria-label="WhatsApp"
        >
          <svg
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M20.463 3.488C18.217 1.24 15.231 0 12.05 0C5.495 0 0.166 5.334 0.166 11.889C0.166 13.981 0.721 16.034 1.775 17.825L0.061 24L6.341 22.322C8.066 23.286 10.042 23.79 12.044 23.79H12.05C18.6 23.79 24 18.455 24 11.9C24 8.716 22.708 5.735 20.463 3.488ZM12.05 21.777H12.044C10.267 21.777 8.526 21.296 7.008 20.389L6.65 20.184L2.977 21.174L3.979 17.589L3.754 17.219C2.762 15.644 2.231 13.789 2.231 11.889C2.231 6.443 6.605 2.064 12.056 2.064C14.712 2.064 17.202 3.081 19.052 4.937C20.902 6.793 21.941 9.282 21.935 11.9C21.935 17.352 17.495 21.777 12.05 21.777ZM17.472 14.382C17.184 14.24 15.724 13.521 15.465 13.425C15.206 13.329 15.019 13.283 14.826 13.567C14.638 13.856 14.073 14.521 13.908 14.715C13.743 14.908 13.578 14.931 13.29 14.784C13.001 14.642 12.02 14.328 10.859 13.294C9.952 12.488 9.326 11.493 9.161 11.203C8.996 10.914 9.144 10.762 9.287 10.623C9.41 10.499 9.563 10.298 9.699 10.132C9.835 9.966 9.881 9.847 9.977 9.654C10.073 9.465 10.027 9.299 9.954 9.152C9.881 9.01 9.259 7.544 9.025 6.966C8.795 6.407 8.56 6.483 8.388 6.472C8.223 6.461 8.035 6.461 7.846 6.461C7.658 6.461 7.353 6.534 7.094 6.823C6.835 7.112 6.072 7.832 6.072 9.298C6.072 10.764 7.117 12.179 7.252 12.373C7.388 12.566 9.316 15.52 12.246 16.822C12.963 17.13 13.526 17.306 13.965 17.441C14.673 17.659 15.316 17.624 15.828 17.552C16.398 17.465 17.59 16.834 17.824 16.153C18.058 15.473 18.058 14.9 17.985 14.777C17.912 14.659 17.724 14.587 17.436 14.445L17.472 14.382Z"
              fill="#25D366"
            />
          </svg>
        </button>

        <button
          className="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center"
          aria-label="Viber"
        >
          <svg
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M22.489 10.844C22.733 6.593 22.125 4.218 20.573 2.701L20.574 2.7C17.5 -0.369 8.4 -0.8 4.893 2.439C3.086 4.062 2.525 6.449 2.458 9.442C2.391 12.434 2.325 18.041 7.666 19.534H7.671L7.666 21.698C7.666 21.698 7.635 22.513 8.173 22.697C8.78 22.909 9.108 22.571 10.186 21.34C10.736 20.713 11.204 20.171 11.56 19.767C15.746 20.104 18.957 19.141 19.258 19.035C20.082 18.751 23.436 18.008 23.802 13.228C24.181 8.274 23.321 11.713 22.489 10.844ZM23.062 13.062C22.751 17.099 19.957 17.662 19.258 17.903C19.003 17.992 16.123 18.851 12.457 18.611C12.457 18.611 10.003 21.498 9.224 22.277C9.001 22.499 8.756 22.476 8.758 22.026C8.758 21.743 8.77 18.991 8.77 18.991C4.132 17.701 4.47 12.84 4.527 10.189C4.585 7.537 5.047 5.476 6.63 4.047C9.738 1.248 17.914 1.769 20.449 4.302C22.576 6.374 21.791 11.862 21.793 11.951C21.793 11.951 23.372 9.028 23.062 13.062Z"
              fill="#7D3DAF"
            />
            <path
              d="M12.904 5.984C12.619 5.984 12.619 6.432 12.904 6.435C15.788 6.452 18.135 8.603 18.154 12.265C18.154 12.553 18.6 12.55 18.598 12.263H18.597C18.575 8.383 16.074 6.002 12.904 5.984Z"
              fill="#7D3DAF"
            />
            <path
              d="M16.901 11.595C16.886 11.892 17.334 11.914 17.346 11.617C17.421 9.713 16.183 8.116 14.087 7.944C13.8 7.921 13.771 8.369 14.056 8.391C15.85 8.541 16.89 9.881 16.901 11.595Z"
              fill="#7D3DAF"
            />
            <path
              d="M16.118 13.839C15.801 13.644 15.48 13.756 15.335 13.912L14.945 14.368C14.792 14.533 14.525 14.512 14.525 14.512C11.101 13.56 10.138 10.044 10.138 10.044C10.138 10.044 10.117 9.776 10.284 9.621L10.738 9.227C10.893 9.082 11.004 8.76 10.811 8.441C10.11 7.334 9.75 7.008 9.584 6.767C9.408 6.533 9.124 6.483 8.826 6.631H8.822C8.062 7.062 7.246 7.883 7.455 8.717C7.807 9.642 8.7 12.148 11.035 14.09C12.356 15.178 14.335 16.235 15.255 16.51H15.258C16.089 16.721 16.906 15.9 17.335 15.136V15.133C17.48 14.833 17.432 14.552 17.2 14.371C16.77 13.986 16.442 14.037 16.118 13.839Z"
              fill="#7D3DAF"
            />
            <path
              d="M14.729 10.393C15.102 10.387 15.079 9.846 14.707 9.849C13.469 9.861 13.483 11.119 13.483 11.144C13.483 11.428 13.932 11.428 13.932 11.146C13.932 11.137 13.929 10.413 14.729 10.393Z"
              fill="#7D3DAF"
            />
          </svg>
        </button>

        <button
          className="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center"
          aria-label="Facebook"
        >
          <svg
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 17.9895 4.3882 22.954 10.125 23.8542V15.4688H7.07812V12H10.125V9.35625C10.125 6.34875 11.9166 4.6875 14.6576 4.6875C15.9701 4.6875 17.3438 4.92188 17.3438 4.92188V7.875H15.8306C14.34 7.875 13.875 8.80008 13.875 9.75V12H17.2031L16.6711 15.4688H13.875V23.8542C19.6118 22.954 24 17.9895 24 12Z"
              fill="#1877F2"
            />
          </svg>
        </button>

        <button
          className="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center"
          aria-label="VK"
        >
          <svg
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M21.579 6.855C21.725 6.388 21.579 6.05 20.919 6.05H18.618C18.07 6.05 17.82 6.334 17.673 6.656C17.673 6.656 16.525 9.334 14.893 11.062C14.392 11.564 14.165 11.725 13.893 11.725C13.747 11.725 13.541 11.564 13.541 11.097V6.855C13.541 6.308 13.381 6.05 12.925 6.05H9.371C9.03 6.05 8.819 6.319 8.819 6.572C8.819 7.088 9.634 7.205 9.711 8.787V11.816C9.711 12.498 9.581 12.623 9.309 12.623C8.54 12.623 6.693 9.933 5.589 6.901C5.372 6.305 5.168 6.05 4.617 6.05H2.316C1.699 6.05 1.569 6.334 1.569 6.656C1.569 7.226 2.338 10.035 5.016 13.663C6.82 16.141 9.359 17.483 11.662 17.483C13.047 17.483 13.543 17.183 13.543 16.654V14.599C13.543 13.983 13.679 13.853 14.118 13.853C14.436 13.853 15.03 14.014 16.358 15.296C17.865 16.802 18.104 17.483 18.927 17.483H21.228C21.845 17.483 22.146 17.183 21.961 16.576C21.558 15.343 18.786 12.706 18.638 12.499C18.32 12.088 18.412 11.905 18.638 11.543C18.642 11.539 21.301 7.822 21.579 6.855Z"
              fill="#0077FF"
            />
          </svg>
        </button>
      </div>

      <button
        onClick={handleCopyLink}
        className="w-full border border-[#BAC0CC] rounded-full py-5 px-6 text-[#666F8D] hover:bg-gray-50 transition-colors cursor-pointer font-bold text-lg"
      >
        {copied ? 'Ссылка скопирована' : 'Скопировать ссылку'}
      </button>
    </div>
  );
};

export default ShareCard;
